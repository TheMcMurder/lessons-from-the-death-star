<h1>Learning From the Death Star:<br/> single-spa at Workfront</h1>

## powered by [minideck](https://github.com/filoxo/minideck)

---

## What this talk is

- <Appear>A breakdown of how we're going to use single-spa at WorkFront</Appear>
- <Appear>A list of things to keep in mind while we're discussing micro-services</Appear>
- <Appear>An opportunity to use as many Star Wars memes and references as possible</Appear>
- <Appear>
    A discussion on MFE timelines
    <NextSlideIndicator/>
  </Appear>

---

## What this talk is not

- <Appear>Step by step guide on implementing single-spa</Appear>
- <Appear>An announcement that MFEs are ready at WorkFront</Appear>
- <Appear>A Trap</Appear>
  <Appear>
    <MemeImg
      alt="Ackbar Trap meme"
      src="https://i.pinimg.com/originals/64/88/df/6488df8c11729e47dd008c68511765b1.jpg"
    />
    <NextSlideIndicator/>
  </Appear>

---

## Goals of MFEs
- <Appear>Teams own their code end to end</Appear>
- <Appear>Independent releases</Appear>
- <Appear>Independent development</Appear>
- <Appear>Support multiple frameworks - Eventually</Appear>
- <Appear>
  Excellent developer experience
  <NextSlideIndicator/>
</Appear>

---

## Why single-spa
- <Appear>Meets goals better than all competitors</Appear>
- <Appear>Unopinionated</Appear>
- <Appear>Most popular MFE library</Appear>
- <Appear>2 single-spa maintainers hired</Appear>
- <Appear>
  Excellent dev tooling
  <NextSlideIndicator/>
</Appear>

---

## What does the Death Star have to do with this?
<Appear>
  <Aside warning>The Death Star serves as a warning on how easy it is to build micro-services poorly</Aside>
  <NextSlideIndicator/>
</Appear>

---
# Death Star History
![Death Star Image](https://www.stickyminds.com/sites/default/files/article/2014/death-star.jpg){.h-32 .mx-auto}
- <Appear>Massive space-faring battle station (Size of the moon)</Appear>
- <Appear>Primary weapon can destroy a planet</Appear>
- <Appear>Built by experts (and one subversive)</Appear>
<Appear>
  <Aside warning>Eventually destroyed by an attack to the reactor module!</Aside>
  <NextSlideIndicator/>
</Appear>
---

## How did one module destroy the station?
<Appear>
  <Aside warning>Tight coupling!</Aside>
</Appear>
<Appear>
  <MemeImg
    alt='Death Star Blueprints'
    src="https://i.imgur.com/c2rfS6f.jpg"
  />
</Appear>
<Appear>
  <MemeImg
    alt='Death Star Blueprints with reactor module highlighted'
    src="https://i.imgur.com/0ng4QFd.jpg"
  />
</Appear>
<Appear>
  <MemeImg
    alt='Galen Erso - Engineer behind most of the Death Star'
    src="https://vignette.wikia.nocookie.net/starwars/images/2/26/GalenErso2.jpg/revision/latest?cb=20161206014950"
    imageClasses='h-64 max-w-full'
  />
</Appear>
<Appear>
  <MemeImg
    alt='Death Star Blueprints with reactor module highlighted'
    src="https://i.imgur.com/0ng4QFd.jpg"
  />
</Appear>
<Appear>
  <MemeImg
    alt='Death Star explosion plan'
    src="https://media1.tenor.com/images/c5780a58c2958d610faf3c0a08ee0873/tenor.gif"
    imageClasses='max-h-screen max-w-screen mr-64 mb-24'
  />
  <NextSlideIndicator/>
</Appear>

---

# Migration Plan - Stage 0
![Stage 0 - Where we currently are](https://i.imgur.com/YEzy5Zx.png){.mx-auto .h-64}

---

# Migration Plan - Stage 1
![Stage 1 - Next Stage: Give single-spa/SystemJS control over the page](https://i.imgur.com/LXajsGW.png){.mx-auto .h-64}

---

# Migration Plan - Stage 2
![Stage 2 - Move global context services out of Quicksilver](https://i.imgur.com/vxfekQG.png){.mx-auto .h-64}

---

# Migration Plan - Stage 3
![Stage 3 - Move Primary navigation out of Quicksilver](https://i.imgur.com/nDbxUbi.png){.mx-auto .h-64}

---

# Migration Plan - Stage 4 - Repeat
![Stage 4 - Repeat](https://i.imgur.com/yom1Wja.gif){.mx-auto .h-64}

---

# Migration Plan - Stage ? MFE Paradise
![Stage X - Completed migration: All modules have been extracted from QS and now teams can tackle their shims/tech debt with MFE benefits](https://i.imgur.com/6oDiI8o.png){.mx-auto .h-64}

---

# Timelines

[Outlined Milestones in Notion](https://www.notion.so/workfront/3d080a471dd146e9bc78a8a8f701dfd7?v=03caea720da74dd9ba600dc771ebcf4a)
![Are we really doing this?](https://www.themarysue.com/wp-content/uploads/2016/09/star-wars-gif.gif){.mt-2 .mx-auto .h-32}

---

# Learn from coupling
<MemeImg
  alt='X-wing approach on death star'
  src="https://64.media.tumblr.com/10ea0f117efe5e4be4f84d5ee6df326a/tumblr_nh99rzsiF31r0xw5zo2_500.gif"
  imageClasses='max-h-screen max-w-screen mb-40 h-32'
/>

---

# Where are we today?
![Stage 1 - Next Stage: Give single-spa/SystemJS control over the page](https://i.imgur.com/LXajsGW.png){.mx-auto .h-64}

---

# Tell me more about the dev experience
## Workfront inspector demo

---

# DX over stages

|                                           | 0   | 1   | 2   | 3   | ... | 10  |
| ----------------------------------------- | --- | --- | --- | --- | --- | --- |
| no change                                 |  X  |     |     |     |     |     |
| WF-inspector for QS                       |     |  X  |  X  |  X  |  X  |  X  |
| WF-inspector for most MFE utilites        |     |     |  X  |  X  |  X  |  X  |
| WF-inspector for navbar                   |     |     |     |  X  |  X  |  X  |
| WF-inspector for broken out applications  |     |     |     |     |  X  |  X  |
| WF-inspector for most applications        |     |     |     |     |     |  X  |

---

# What can we do now to prepare?
- <Appear>Think about the boundary layers. How should the modules be divided?</Appear>
- <Appear>Learn about single-spa MFE types</Appear>
- <Appear>Help WebPlatform build/review MFE Utilities</Appear>
- <Appear>Watch Star Wars - including the excellent "The Clone Wars" tv series</Appear>
- <Appear>Play with single-spa</Appear>
- <Appear>Ask questions in #ask-web-platform</Appear>
- <Appear>Participate in checking your areas as we move Stage 1 through envs</Appear>
- <Appear>Help improve single-spa documentation</Appear>
- <Appear>Plan the evenetual destruction of the Galactic Empire</Appear>
- <Appear>Be understanding.</Appear>

---

# Resources
- [single-spa.js.org](https://single-spa.js.org)
- [Timeline notion document](https://www.notion.so/workfront/3d080a471dd146e9bc78a8a8f701dfd7?v=03caea720da74dd9ba600dc771ebcf4a)
- [Tyler's MFE walkthough](https://medium.com/swlh/developing-and-deploying-micro-frontends-with-single-spa-c8b49f2a1b1d?source=friends_link&sk=8f72c248806e0d023ec8f2c872ef2983)

---

# Thank you! 

![Stay on target gif](http://puddlesgathering.com/blog/ani-sw_almost_there.gif){.mx-auto .h-32}